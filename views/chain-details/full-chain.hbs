<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Required meta tags-->
    <meta http-equiv='cache-control' content='no-cache'>
    <meta http-equiv='expires' content='0'>
    <meta http-equiv='pragma' content='no-cache'>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="Colorlib Templates">
    <meta name="author" content="Colorlib">
    <meta name="keywords" content="Colorlib Templates">

    <!-- Title Page-->
    <title>Full Chain</title>
    <link rel="icon" href="../static/img/favicon.png">

    <!-- Icons font CSS-->
    <link href="../static/vendor/mdi-font/css/material-design-iconic-font.min.css" rel="stylesheet" media="all">
    <link href="../static/vendor/font-awesome-4.7/css/font-awesome.min.css" rel="stylesheet" media="all">

    <!-- Font special for pages-->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i,800,800i"
        rel="stylesheet">

    <!-- Vendor CSS-->
    <link href="../static/vendor/select2/select2.min.css" rel="stylesheet" media="all">
    <link href="../static/vendor/datepicker/daterangepicker.css" rel="stylesheet" media="all">

    <!-- Main CSS-->
    <link href="../static/css/main.css" rel="stylesheet" media="all">

    {{>styles}}
</head>

<body>
    <div class="main-body">
        {{>navbar}}

        <div class="page-wrapper bg-gra-03 p-t-45 p-b-50">
            <div class="wrapper wrapper--w790" style="max-width:900px;">
                <div class="card card-5">
                    <div class="card-heading">
                        <h2 class="title">FULL Chain</h2>
                    </div>

                    <div class="container">
                        <div class="table-responsive" style="padding-bottom: 200px;">
                            <table class="table table-striped" id="table">
                                <tr>
                                    <th>Block</th>
                                    <th>Timestamp</th>
                                    <th>Transactions</th>
                                    <th>Proof</th>
                                    <th>Previous Hash</th>
                                </tr>
                                {{#each fullChain}}
                                <tr>
                                    <td>{{this.index}}</td>
                                    <td>{{this.timestamp}}</td>
                                    <td><a href="\transaction-info?blockNumber={{this.index}}">Transactions Info</a></td>
                                    <td>{{this.proof}}</td>
                                    <td>{{this.previousHash}}</td>
                                </tr>
                                {{/each}}
                            </table>

                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>





    {{>scripts}}
    {{!-- Modal js --}}
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.19.2/axios.min.js"></script>

    <script>
        const fun = (blockNumber) => {
            const data = {
                blockNumber,
            }
            axios.post('http://localhost:8081/transaction-info', data)
            .then(res => 
                console.log('Posted Successfully!!')
            ).catch(err => {
                console.log(err)
            });
            {{!-- window.open('transaction-info','_blank');  --}}
        }
    </script>
</body>

</html>
<!-- end document-->